

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The meta.yaml file &mdash; Conda   documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Conda   documentation" href="../index.html"/>
        <link rel="up" title="Building conda packages" href="bpp.html"/>
        <link rel="next" title="Environment variables" href="environment-vars.html"/>
        <link rel="prev" title="Directory structure" href="dirs.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Conda
          

          
          </a>

          
            
            
              <div class="version">
                 
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../announcements.html">Conda Announcements List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using/index.html">Using conda</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="build.html">Building packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../build_tutorials.html">Build tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="bpp.html">Building conda packages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="recipe.html">Conda build recipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="pkg-name-conv.html">Package naming conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta-pkg.html">Metapackages</a></li>
<li class="toctree-l3"><a class="reference internal" href="dirs.html">Directory structure</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">The meta.yaml file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#package-section">Package section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-section">Source section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-section">Build section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requirements-section">Requirements section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-section">Test section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#outputs-section">Outputs section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#about-section">About section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#app-section">App section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extra-section">Extra section</a></li>
<li class="toctree-l4"><a class="reference internal" href="#templating-with-jinja">Templating with Jinja</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preprocessing-selectors">Preprocessing selectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#making-packages-relocatable">Making packages relocatable</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="environment-vars.html">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-scripts.html">Pre/Post link/unlink scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="variants.html">Build Variants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec.html">Conda package specification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="shared-libraries.html">Using shared libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../custom-channels.html">Custom channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signed-packages.html">Signing conda packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bdist_conda.html">Bdist_conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="sample-recipes.html">Sample recipes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../help/help.html">Help &amp; reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-involved.html">Get involved</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Conda</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="build.html">Building packages</a> &raquo;</li>
        
          <li><a href="bpp.html">Building conda packages</a> &raquo;</li>
        
      <li>The meta.yaml file</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conda/conda-docs/blob/master/docs/source/building/meta-yaml.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-meta-yaml-file">
<span id="meta-yaml"></span><h1><a class="toc-backref" href="#id4">The meta.yaml file</a><a class="headerlink" href="#the-meta-yaml-file" title="Permalink to this headline">Â¶</a></h1>
<div class="contents topic" id="sections-of-meta-yaml">
<p class="topic-title first">Sections of <code class="docutils literal"><span class="pre">meta.yaml</span></code>:</p>
<ul class="simple">
<li><a class="reference internal" href="#the-meta-yaml-file" id="id4">The meta.yaml file</a><ul>
<li><a class="reference internal" href="#package-section" id="id5">Package section</a><ul>
<li><a class="reference internal" href="#package-name" id="id6">Package name</a></li>
<li><a class="reference internal" href="#package-version" id="id7">Package version</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source-section" id="id8">Source section</a><ul>
<li><a class="reference internal" href="#source-from-tarball-zip-archive" id="id9">Source from tarball/zip archive</a></li>
<li><a class="reference internal" href="#source-from-git" id="id10">Source from git</a></li>
<li><a class="reference internal" href="#source-from-hg" id="id11">Source from hg</a></li>
<li><a class="reference internal" href="#source-from-svn" id="id12">Source from svn</a></li>
<li><a class="reference internal" href="#source-from-a-local-path" id="id13">Source from a local path</a></li>
<li><a class="reference internal" href="#patches" id="id14">Patches</a></li>
<li><a class="reference internal" href="#destination-path" id="id15">Destination path</a></li>
<li><a class="reference internal" href="#multiple-sources" id="id16">Multiple sources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-section" id="id17">Build section</a><ul>
<li><a class="reference internal" href="#build-number-and-string" id="id18">Build number and string</a></li>
<li><a class="reference internal" href="#python-entry-points" id="id19">Python entry points</a></li>
<li><a class="reference internal" href="#python-app" id="id20">Python.app</a></li>
<li><a class="reference internal" href="#features" id="id21">Features</a></li>
<li><a class="reference internal" href="#track-features" id="id22">Track features</a></li>
<li><a class="reference internal" href="#preserve-python-egg-directory" id="id23">Preserve Python egg directory</a></li>
<li><a class="reference internal" href="#skip-compiling-some-py-files-into-pyc-files" id="id24">Skip compiling some .py files into .pyc files</a></li>
<li><a class="reference internal" href="#no-link" id="id25">No link</a></li>
<li><a class="reference internal" href="#script" id="id26">Script</a></li>
<li><a class="reference internal" href="#rpaths" id="id27">RPATHs</a></li>
<li><a class="reference internal" href="#force-files" id="id28">Force files</a></li>
<li><a class="reference internal" href="#relocation" id="id29">Relocation</a></li>
<li><a class="reference internal" href="#binary-relocation" id="id30">Binary relocation</a></li>
<li><a class="reference internal" href="#detect-binary-files-with-prefix" id="id31">Detect binary files with prefix</a></li>
<li><a class="reference internal" href="#binary-has-prefix-files" id="id32">Binary has prefix files</a></li>
<li><a class="reference internal" href="#text-files-with-prefix-files" id="id33">Text files with prefix files</a></li>
<li><a class="reference internal" href="#ignore-prefix-files" id="id34">Ignore prefix files</a></li>
<li><a class="reference internal" href="#skipping-builds" id="id35">Skipping builds</a></li>
<li><a class="reference internal" href="#architecture-independent-packages" id="id36">Architecture independent packages</a></li>
<li><a class="reference internal" href="#include-build-recipe" id="id37">Include build recipe</a></li>
<li><a class="reference internal" href="#use-environment-variables" id="id38">Use Environment Variables</a></li>
<li><a class="reference internal" href="#pin-downstream" id="id39">Pin downstream</a></li>
</ul>
</li>
<li><a class="reference internal" href="#requirements-section" id="id40">Requirements section</a><ul>
<li><a class="reference internal" href="#build" id="id41">Build</a></li>
<li><a class="reference internal" href="#run" id="id42">Run</a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-section" id="id43">Test section</a><ul>
<li><a class="reference internal" href="#test-files" id="id44">Test files</a></li>
<li><a class="reference internal" href="#source-files" id="id45">Source files</a></li>
<li><a class="reference internal" href="#test-requirements" id="id46">Test requirements</a></li>
<li><a class="reference internal" href="#test-commands" id="id47">Test commands</a></li>
<li><a class="reference internal" href="#python-imports" id="id48">Python imports</a></li>
<li><a class="reference internal" href="#run-test-script" id="id49">Run test script</a></li>
</ul>
</li>
<li><a class="reference internal" href="#outputs-section" id="id50">Outputs section</a><ul>
<li><a class="reference internal" href="#specifying-files-to-include-in-output" id="id51">Specifying files to include in output</a></li>
<li><a class="reference internal" href="#subpackage-requirements" id="id52">Subpackage requirements</a></li>
<li><a class="reference internal" href="#implicit-metapackages" id="id53">Implicit metapackages</a></li>
<li><a class="reference internal" href="#subpackage-tests" id="id54">Subpackage tests</a></li>
<li><a class="reference internal" href="#output-type" id="id55">Output type</a></li>
</ul>
</li>
<li><a class="reference internal" href="#about-section" id="id56">About section</a><ul>
<li><a class="reference internal" href="#license-file" id="id57">License file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#app-section" id="id58">App section</a><ul>
<li><a class="reference internal" href="#entry-point" id="id59">Entry point</a></li>
<li><a class="reference internal" href="#icon-file" id="id60">Icon file</a></li>
<li><a class="reference internal" href="#summary" id="id61">Summary</a></li>
<li><a class="reference internal" href="#own-environment" id="id62">Own environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extra-section" id="id63">Extra section</a></li>
<li><a class="reference internal" href="#templating-with-jinja" id="id64">Templating with Jinja</a></li>
<li><a class="reference internal" href="#preprocessing-selectors" id="id65">Preprocessing selectors</a></li>
<li><a class="reference internal" href="#id2" id="id66">Features</a></li>
<li><a class="reference internal" href="#making-packages-relocatable" id="id67">Making packages relocatable</a></li>
</ul>
</li>
</ul>
</div>
<p>All the metadata in the conda build recipe is specified in the <code class="docutils literal"><span class="pre">meta.yaml</span></code> file,
as in this example of a simple meta.yaml file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">pyinstrument</span>
  <span class="n">version</span><span class="p">:</span> <span class="s2">&quot;0.13.1&quot;</span>

<span class="n">source</span><span class="p">:</span>
  <span class="n">git_rev</span><span class="p">:</span> <span class="n">v0</span><span class="o">.</span><span class="mf">13.1</span>
  <span class="n">git_url</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">joerick</span><span class="o">/</span><span class="n">pyinstrument</span><span class="o">.</span><span class="n">git</span>

<span class="n">requirements</span><span class="p">:</span>
  <span class="n">build</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">python</span>
    <span class="o">-</span> <span class="n">setuptools</span>
  <span class="n">run</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">python</span>

<span class="n">test</span><span class="p">:</span>
  <span class="n">imports</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">pyinstrument</span>

<span class="n">about</span><span class="p">:</span>
  <span class="n">home</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">joerick</span><span class="o">/</span><span class="n">pyinstrument</span>
  <span class="n">license</span><span class="p">:</span> <span class="n">BSD</span>
  <span class="n">license_file</span><span class="p">:</span> <span class="n">LICENSE</span>
</pre></div>
</div>
<p>NOTE: All sections are optional except for package/name and package/version.</p>
<p>NOTE: All headers should appear exactly once. If they appear multiple times, only
the last will be remembered. For example, the âpackage:â header should only appear
once in the file.</p>
<div class="section" id="package-section">
<h2><a class="toc-backref" href="#id5">Package section</a><a class="headerlink" href="#package-section" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="package-name">
<h3><a class="toc-backref" href="#id6">Package name</a><a class="headerlink" href="#package-name" title="Permalink to this headline">Â¶</a></h3>
<p>Lower case name of package, may contain â-â but no spaces</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">package</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">bsdiff4</span>
</pre></div>
</div>
</div>
<div class="section" id="package-version">
<h3><a class="toc-backref" href="#id7">Package version</a><a class="headerlink" href="#package-version" title="Permalink to this headline">Â¶</a></h3>
<p>Version of package. Should use the PEP-386 verlib conventions. Note that YAML will
interpret versions like 1.0 as floats, meaning that 0.10 will be the same as 0.1. To
avoid this, always put the version in quotes, so that it will be interpreted as a
string.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">package</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="s">&quot;1.1.4&quot;</span>
</pre></div>
</div>
<p>NOTE: The version cannot contain a dash â-â character.</p>
<p>NOTE: Post-build versioning: In some cases, you may not know the version, build
number, or build string of the package until after it is built. In this case, you
can perform <a class="reference internal" href="#jinja-templates"><span class="std std-ref">Templating with Jinja</span></a> or utilize <a class="reference internal" href="environment-vars.html#git-env"><span class="std std-ref">Git Environment Variables</span></a> and <a class="reference internal" href="environment-vars.html#inherited-env-vars"><span class="std std-ref">Inherited Environment Variables</span></a>.</p>
</div>
</div>
<div class="section" id="source-section">
<h2><a class="toc-backref" href="#id8">Source section</a><a class="headerlink" href="#source-section" title="Permalink to this headline">Â¶</a></h2>
<p>The source section specifies where the source code of the package is coming from.
The source may come from a tarball file, git, hg, or svn, may be a local path,
and may contain patches.</p>
<div class="section" id="source-from-tarball-zip-archive">
<h3><a class="toc-backref" href="#id9">Source from tarball/zip archive</a><a class="headerlink" href="#source-from-tarball-zip-archive" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://pypi.python.org/packages/source/b/bsdiff4/bsdiff4-1.1.4.tar.gz</span>
  <span class="l l-Scalar l-Scalar-Plain">md5</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">29f6089290505fc1a852e176bd276c43</span>
  <span class="l l-Scalar l-Scalar-Plain">sha1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">f0a2c9a30073449cfb7d171c57552f3109d93894</span>
  <span class="l l-Scalar l-Scalar-Plain">sha256</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5a022ff4c1d1de87232b1c70bde50afbb98212fd246be4a867d8737173cf1f8f</span>
</pre></div>
</div>
<p>If an extracted archive contains only one folder at its top level, its contents
will be moved one level up (so that the extracted package contents sit in the
root of the work folder).</p>
</div>
<div class="section" id="source-from-git">
<h3><a class="toc-backref" href="#id10">Source from git</a><a class="headerlink" href="#source-from-git" title="Permalink to this headline">Â¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">git_url</span></code> can also be a relative path to the recipe directory:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">git_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/ilanschnell/bsdiff4.git</span>
  <span class="l l-Scalar l-Scalar-Plain">git_rev</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.1.4</span>
</pre></div>
</div>
</div>
<div class="section" id="source-from-hg">
<h3><a class="toc-backref" href="#id11">Source from hg</a><a class="headerlink" href="#source-from-hg" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">hg_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ssh://hg@bitbucket.org/ilanschnell/bsdiff4</span>
  <span class="l l-Scalar l-Scalar-Plain">hg_tag</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.1.4</span>
</pre></div>
</div>
</div>
<div class="section" id="source-from-svn">
<h3><a class="toc-backref" href="#id12">Source from svn</a><a class="headerlink" href="#source-from-svn" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">svn_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/ilanschnell/bsdiff</span>
  <span class="l l-Scalar l-Scalar-Plain">svn_rev</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.1.4</span>
  <span class="l l-Scalar l-Scalar-Plain">svn_ignore_externals</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span> <span class="c1"># (defaults to False)</span>
</pre></div>
</div>
</div>
<div class="section" id="source-from-a-local-path">
<h3><a class="toc-backref" href="#id13">Source from a local path</a><a class="headerlink" href="#source-from-a-local-path" title="Permalink to this headline">Â¶</a></h3>
<p>If the path is relative it is taken relative to the recipe directory. The source
will be copied to the work directory before building:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">path</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../src</span>
</pre></div>
</div>
<p>If the local path is a git or svn repository, you will get the corresponding environment
variables defined in your build environment.  The only practical difference between
<code class="docutils literal"><span class="pre">git_url</span></code> or <code class="docutils literal"><span class="pre">hg_url</span></code> and <code class="docutils literal"><span class="pre">path</span></code> as source arguments is that <code class="docutils literal"><span class="pre">git_url</span></code> and <code class="docutils literal"><span class="pre">hg_url</span></code>
would be clones of a repository and <code class="docutils literal"><span class="pre">path</span></code> would be a copy of the repository.  Using
<code class="docutils literal"><span class="pre">path</span></code> will allow you to build packages with unstaged/uncommitted changes in
the working directory. <code class="docutils literal"><span class="pre">git_url</span></code> can only build up to the latest commit.</p>
</div>
<div class="section" id="patches">
<h3><a class="toc-backref" href="#id14">Patches</a><a class="headerlink" href="#patches" title="Permalink to this headline">Â¶</a></h3>
<p>Patches may optionally be applied to the source:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="c1">#[source information here]</span>
  <span class="l l-Scalar l-Scalar-Plain">patches</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">my.patch</span> <span class="c1"># the patch file is expected to be found in the recipe</span>
</pre></div>
</div>
<p>NOTE: Conda-build will automatically determine the patch strip level.</p>
</div>
<div class="section" id="destination-path">
<h3><a class="toc-backref" href="#id15">Destination path</a><a class="headerlink" href="#destination-path" title="Permalink to this headline">Â¶</a></h3>
<p>Within conda-buildâs work directory, you may specify a particular folder to
place source into. This feature is new in conda-build 3.0. Conda-build will
always drop you into the same folder (build folder/work), but itâs up to you
whether you want your source extracted into that folder, or nested deeper. This
feature is particularly useful when dealing with multiple sources, but can apply
to recipes with single sources as well.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="c1">#[source information here]</span>
  <span class="l l-Scalar l-Scalar-Plain">folder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">my-destination/folder</span>
</pre></div>
</div>
</div>
<div class="section" id="multiple-sources">
<h3><a class="toc-backref" href="#id16">Multiple sources</a><a class="headerlink" href="#multiple-sources" title="Permalink to this headline">Â¶</a></h3>
<p>Some software is most easily built by aggregating several pieces. For this,
conda-build 3.0 has added support for specifying arbitrarily many sources. The
syntax for this is a list of source dictionaries. Each member of this list
follows the same rules as the single source for earlier conda-build versions
(listed above). All features for each member are supported.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://package1.com/a.tar.bz2</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://package1.com/b.tar.bz2</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/conda/conda-build</span>
</pre></div>
</div>
<p>Note the dashes: these denote list items in YAML syntax. Each of these
entries are extracted/cloned into one folder. This example wonât actually work,
because git will not clone into a non-empty folder. Letâs specify some folders:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://package1.com/a.tar.bz2</span>
    <span class="l l-Scalar l-Scalar-Plain">folder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">stuff</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://package1.com/b.tar.bz2</span>
    <span class="l l-Scalar l-Scalar-Plain">folder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">stuff</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/conda/conda-build</span>
    <span class="l l-Scalar l-Scalar-Plain">folder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">conda-build</span>
</pre></div>
</div>
<p>Here, the two URL tarballs will go into one folder, but the git repo will be checked out into its own space.</p>
</div>
</div>
<div class="section" id="build-section">
<span id="meta-build"></span><h2><a class="toc-backref" href="#id17">Build section</a><a class="headerlink" href="#build-section" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="build-number-and-string">
<h3><a class="toc-backref" href="#id18">Build number and string</a><a class="headerlink" href="#build-number-and-string" title="Permalink to this headline">Â¶</a></h3>
<p>The build number should be incremented for new builds of the same version. The number
defaults to zero. The string defaults to the default conda build string plus the
build number.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="l l-Scalar l-Scalar-Plain">string</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">abc</span>
</pre></div>
</div>
<p>NOTE: The build string cannot contain a dash â-â character.</p>
</div>
<div class="section" id="python-entry-points">
<h3><a class="toc-backref" href="#id19">Python entry points</a><a class="headerlink" href="#python-entry-points" title="Permalink to this headline">Â¶</a></h3>
<p>This creates a Python entry point named bsdiff4 that calls bsdiff4.cli.main_bsdiff4() .</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">entry_points</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bsdiff4 = bsdiff4.cli:main_bsdiff4</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bspatch4 = bsdiff4.cli:main_bspatch4</span>
</pre></div>
</div>
</div>
<div class="section" id="python-app">
<h3><a class="toc-backref" href="#id20">Python.app</a><a class="headerlink" href="#python-app" title="Permalink to this headline">Â¶</a></h3>
<p>If osx_is_app is set, entry points will use python.app instead of python in OS X.
The default is False.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">osx_is_app</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="features">
<h3><a class="toc-backref" href="#id21">Features</a><a class="headerlink" href="#features" title="Permalink to this headline">Â¶</a></h3>
<p>Defines what features a package has.</p>
<p>SEE ALSO: <a class="reference internal" href="#id2"><span class="std std-ref">Features</span></a> section below for additional information.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">features</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">feature1</span>
</pre></div>
</div>
</div>
<div class="section" id="track-features">
<h3><a class="toc-backref" href="#id22">Track features</a><a class="headerlink" href="#track-features" title="Permalink to this headline">Â¶</a></h3>
<p>To enable a feature, a user should install a package that tracks that feature. A
package can have a feature, or track that feature, or both, or neither. Usually
it is best for the package that tracks a feature to be a metapackage that does
not have the feature.</p>
<p>SEE ALSO: <a class="reference internal" href="#id2"><span class="std std-ref">Features</span></a> section below for additional information.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">track_features</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">feature2</span>
</pre></div>
</div>
</div>
<div class="section" id="preserve-python-egg-directory">
<h3><a class="toc-backref" href="#id23">Preserve Python egg directory</a><a class="headerlink" href="#preserve-python-egg-directory" title="Permalink to this headline">Â¶</a></h3>
<p>This is needed for some packages that use setuptools specific features. Default is False.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">preserve_egg_dir</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="skip-compiling-some-py-files-into-pyc-files">
<h3><a class="toc-backref" href="#id24">Skip compiling some .py files into .pyc files</a><a class="headerlink" href="#skip-compiling-some-py-files-into-pyc-files" title="Permalink to this headline">Â¶</a></h3>
<p>Some packages ship .py files that cannot be compiled, such as those that contain
templates. Some packages also ship .py files that should not be compiled yet,
because the Python interpreter that will be used is not known at build-time. In
these cases conda-build can skip attempting to compile these files.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">skip_compile_pyc</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">templates/*.py</span>          <span class="c1"># These should not (and cannot) be compiled</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">share/plugins/gdb/*.py</span>  <span class="c1"># The python embedded into gdb is unknown</span>
</pre></div>
</div>
</div>
<div class="section" id="no-link">
<h3><a class="toc-backref" href="#id25">No link</a><a class="headerlink" href="#no-link" title="Permalink to this headline">Â¶</a></h3>
<p>A list of globs for files that should always be copied and never soft linked or hard linked.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">no_link</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bin/*.py</span>  <span class="c1"># Don&#39;t link any .py files in bin/</span>
</pre></div>
</div>
</div>
<div class="section" id="script">
<h3><a class="toc-backref" href="#id26">Script</a><a class="headerlink" href="#script" title="Permalink to this headline">Â¶</a></h3>
<p>Used instead of build.sh or bld.bat. For short build scripts, this can be more convenient.
You may need to use selectors (see below) to use different scripts for different platforms.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">script</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">python setup.py install</span>
</pre></div>
</div>
</div>
<div class="section" id="rpaths">
<h3><a class="toc-backref" href="#id27">RPATHs</a><a class="headerlink" href="#rpaths" title="Permalink to this headline">Â¶</a></h3>
<p>Set which RPATHs are used when making executables relocatable on Linux. The default is lib/</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">rpaths</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">lib/</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">lib/R/lib/</span>
</pre></div>
</div>
<p>NOTE: This is a Linux feature that is ignored on other systems.</p>
</div>
<div class="section" id="force-files">
<h3><a class="toc-backref" href="#id28">Force files</a><a class="headerlink" href="#force-files" title="Permalink to this headline">Â¶</a></h3>
<p>Force files to always be included, even if they are already in the environment from the build dependencies. This may be needed, for instance, to create a recipe for conda itself.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">always_include_files</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bin/file1</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bin/file2</span>
</pre></div>
</div>
</div>
<div class="section" id="relocation">
<h3><a class="toc-backref" href="#id29">Relocation</a><a class="headerlink" href="#relocation" title="Permalink to this headline">Â¶</a></h3>
<p>Advanced features. The following four keys (binary_relocation, has_prefix_files and binary_has_prefix_files, ignore_prefix_files) may be used to control relocatability files from the build environment to the installation environment.  See <a class="reference internal" href="#relocatable"><span class="std std-ref">Making packages relocatable</span></a> section below.</p>
</div>
<div class="section" id="binary-relocation">
<h3><a class="toc-backref" href="#id30">Binary relocation</a><a class="headerlink" href="#binary-relocation" title="Permalink to this headline">Â¶</a></h3>
<p>Whether binary files should be made relocatable using install_name_tool on OS X
or patchelf on Linux. Default is True. Accepts False (no relocation for any
files) or a list of files (relocation only for listed files.)</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">binary_relocation</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="detect-binary-files-with-prefix">
<h3><a class="toc-backref" href="#id31">Detect binary files with prefix</a><a class="headerlink" href="#detect-binary-files-with-prefix" title="Permalink to this headline">Â¶</a></h3>
<p>Binary files may contain the build prefix and need it replaced with the install
prefix at installation time. Conda can automatically identify and register such
files. Default is <code class="docutils literal"><span class="pre">True</span></code>. Note that this default changed from <code class="docutils literal"><span class="pre">False</span></code> to
<code class="docutils literal"><span class="pre">True</span></code> in conda-build 2.0. Setting this to <code class="docutils literal"><span class="pre">False</span></code> means that binary
relocation (RPATH) replacement will still be done, but hard-coded prefixes in
binaries will not be replaced. Prefixes in text files will still be replaced.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">detect_binary_files_with_prefix</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<p>Windows handles binary prefix replacement very differently than Unix systems
such as Linux and macOS. At this time, we are unaware of any executable or
library that uses hardcoded embedded paths for locating other libraries or
program data on Windows. Instead, Windows follows <a class="reference external" href="https://msdn.microsoft.com/en-us/library/7d83bc18.aspx">DLL search path rules</a>, or more natively
supports relocatability using relative paths. Because of this, conda ignores
most prefixes. However, pip creates executables for Python entry points that
<em>do</em> use embedded paths on Windows. Conda-build thus detects prefixes in all
files and records them by default. If you are getting errors about path length
on Windows, you should try to disable <code class="docutils literal"><span class="pre">detect_binary_files_with_prefix</span></code>. Newer
versions of Conda (recent 4.2.x series releases and up) should have no problems
here, but earlier versions of conda do erroneously try to apply any binary
prefix replacement.</p>
</div>
<div class="section" id="binary-has-prefix-files">
<h3><a class="toc-backref" href="#id32">Binary has prefix files</a><a class="headerlink" href="#binary-has-prefix-files" title="Permalink to this headline">Â¶</a></h3>
<p>By default, conda-build tries to detect prefixes in all files. You may also
elect to specify files with binary prefixes individually. This allows you to
specify the type of file as binary, when it may be incorrectly detected as text
for some reason. Binary files are those containing NULL bytes.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">binary_has_prefix_files</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bin/binaryfile1</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">lib/binaryfile2</span>
</pre></div>
</div>
</div>
<div class="section" id="text-files-with-prefix-files">
<h3><a class="toc-backref" href="#id33">Text files with prefix files</a><a class="headerlink" href="#text-files-with-prefix-files" title="Permalink to this headline">Â¶</a></h3>
<p>Text files (files containing no NULL bytes) may contain the build prefix and
need it replaced with the install prefix at installation time. Conda will
automatically register such files. Binary files that contain the build prefix
are generally handled differently (see binary_has_prefix_files), but there may
be cases where such a binary file needs to be treated as an ordinary text file,
in which case they need to be identified:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">has_prefix_files</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bin/file1</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">lib/file2</span>
</pre></div>
</div>
</div>
<div class="section" id="ignore-prefix-files">
<h3><a class="toc-backref" href="#id34">Ignore prefix files</a><a class="headerlink" href="#ignore-prefix-files" title="Permalink to this headline">Â¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">ignore_prefix_files</span></code> can be used to exclude some or all of the files in the build recipe
from the list of files that have the build prefix replaced with the install prefix.</p>
<p>To ignore all files in the build recipe use</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ignore_prefix_files</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>To specify individual file names use</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ignore_prefix_files</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">file1</span>
</pre></div>
</div>
<p>This setting is independent of RPATH replacement. Use the
<code class="docutils literal"><span class="pre">detect_binary_files_with_prefix</span></code> setting to control that behavior.</p>
</div>
<div class="section" id="skipping-builds">
<h3><a class="toc-backref" href="#id35">Skipping builds</a><a class="headerlink" href="#skipping-builds" title="Permalink to this headline">Â¶</a></h3>
<p>Whether conda-build should skip the build of this recipe. Particularly useful for defining recipes which are platform specific.
Default is False.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">skip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>  <span class="c1"># [not win]</span>
</pre></div>
</div>
</div>
<div class="section" id="architecture-independent-packages">
<h3><a class="toc-backref" href="#id36">Architecture independent packages</a><a class="headerlink" href="#architecture-independent-packages" title="Permalink to this headline">Â¶</a></h3>
<p>The conda build system allows you to specify âno architectureâ when building a
package, thus making it compatible with all platforms and architectures. Noarch
packages can be installed on any platform.</p>
<p>Starting with conda-build 2.1, and conda 4.3, there is a new syntax that
supports different languages. Assigning the noarch key as <code class="docutils literal"><span class="pre">generic</span></code> tells
conda to not try any manipulation of the contents.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">noarch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">generic</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">noarch:</span> <span class="pre">generic</span></code> is most useful for packages such as static javascript assets
and source archives. For pure Python packages that can run on any Python
version, you can use the <code class="docutils literal"><span class="pre">noarch:</span> <span class="pre">python</span></code> value instead:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">noarch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
</pre></div>
</div>
<p>The legacy syntax for <code class="docutils literal"><span class="pre">noarch_python</span></code> is still valid, and is what you should
use if you need to be certain that your package will be installable where conda
4.3 is not yet available. All other forms of noarch packages require conda &gt;=4.3
to install.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">noarch_python</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="include-build-recipe">
<h3><a class="toc-backref" href="#id37">Include build recipe</a><a class="headerlink" href="#include-build-recipe" title="Permalink to this headline">Â¶</a></h3>
<p>The full conda build recipe and rendered <code class="docutils literal"><span class="pre">meta.yaml</span></code> file is included in the <a class="reference internal" href="../spec.html#package-metadata"><span class="std std-ref">Package metadata</span></a>
by default. This can be disabled with</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">include_recipe</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</div>
<div class="section" id="use-environment-variables">
<h3><a class="toc-backref" href="#id38">Use Environment Variables</a><a class="headerlink" href="#use-environment-variables" title="Permalink to this headline">Â¶</a></h3>
<p>Normally the build script in <code class="docutils literal"><span class="pre">build.sh</span></code> or <code class="docutils literal"><span class="pre">bld.bat</span></code> does not
pass through environment variables from the command line. Only
environment variables documented in <a class="reference internal" href="environment-vars.html#env-vars"><span class="std std-ref">Environment variables</span></a> are seen by
the build script.  To âwhite-listâ environment variables that should be passed
through to the build script, use <code class="docutils literal"><span class="pre">script_env</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">script_env</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">MYVAR</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ANOTHER_VAR</span>
</pre></div>
</div>
<p>If a listed environment variable is missing from the environment seen
by the <code class="docutils literal"><span class="pre">conda</span> <span class="pre">build</span></code> process itself, then a <code class="docutils literal"><span class="pre">UserWarning</span></code> will be
emitted during the build process and the variable will remain
undefined.</p>
</div>
<div class="section" id="pin-downstream">
<span id="run-exports"></span><h3><a class="toc-backref" href="#id39">Pin downstream</a><a class="headerlink" href="#pin-downstream" title="Permalink to this headline">Â¶</a></h3>
<p>It is often useful to require a particular runtime library to be present at
runtime when a particular library or package is used at build time. For example,
if you use a C++ compiler to build a package with dynamic linkage, then it is
likely that you also need to include the C++ runtime package corresponding to
that compiler as a runtime requirement. Generally, these imposed pinnings should
be added to the tool (compiler) or library (jpeg, bzip2, and so on) used at build
time, rather than to the package using those tools or libraries.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">run_exports</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">libstdc++</span>
</pre></div>
</div>
<p>You can express version constraints directly, or use any of the jinja2 helper
functions listed at <a class="reference internal" href="variants.html#extra-jinja2"><span class="std std-ref">Extra Jinja2 functions</span></a>.</p>
<p>For example, you may use <a class="reference internal" href="variants.html#pinning-expressions"><span class="std std-ref">Pinning expressions</span></a> to obtain flexible version
pinning relative to versions present at build time:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">run_exports</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">libstdc++  {{ pin_compatible(&#39;g++&#39;, &#39;x&#39;) }}</span>
</pre></div>
</div>
<p>With this example, if g++ were version 5.3.0, this pinning expression would
evaluate to <code class="docutils literal"><span class="pre">&gt;=5.3.0,&lt;6</span></code>.</p>
<p>Note that <code class="docutils literal"><span class="pre">run_exports</span></code> can be specified both in the build section, and on
a per-output basis for split packages.</p>
<p>The potential downside of this feature is that it takes some control over constraints away from downstream users.  If an upstream package has a problematic run_exports constraint, you can ignore it in your recipe by listing the upstream package name in the <code class="docutils literal"><span class="pre">build/ignore_run_exports</span></code> section:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">ignore_run_exports</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">libstdc++</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="requirements-section">
<h2><a class="toc-backref" href="#id40">Requirements section</a><a class="headerlink" href="#requirements-section" title="Permalink to this headline">Â¶</a></h2>
<p>Versions for requirements must follow the Conda match specification. See <a class="reference internal" href="../spec.html#build-version-spec"><span class="std std-ref">Package match specifications</span></a> .</p>
<p>The build and runtime requirements. Dependencies of these requirements are included automatically.</p>
<div class="section" id="build">
<h3><a class="toc-backref" href="#id41">Build</a><a class="headerlink" href="#build" title="Permalink to this headline">Â¶</a></h3>
<p>Packages required to build the package. Python and NumPy must be listed explicitly if they are required.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
</pre></div>
</div>
</div>
<div class="section" id="run">
<h3><a class="toc-backref" href="#id42">Run</a><a class="headerlink" href="#run" title="Permalink to this headline">Â¶</a></h3>
<p>Packages required to run the package. These are the dependencies that will be installed automatically whenever the package is installed. Package names should follow the <a class="reference internal" href="../spec.html#build-version-spec"><span class="std std-ref">Package match specifications</span></a> .</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">run</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">argparse</span> <span class="c1"># [py26]</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">six &gt;=1.8.0</span>
</pre></div>
</div>
<p>Some users may wish to build a recipe against different versions of NumPy and ensure that each version is part of the package dependencies, which can be done by listing <code class="docutils literal"><span class="pre">numpy</span> <span class="pre">x.x</span></code> as a requirement in meta.yaml and using <code class="docutils literal"><span class="pre">conda</span> <span class="pre">build</span></code> with a NumPy version option such as <code class="docutils literal"><span class="pre">--numpy</span> <span class="pre">1.7</span></code>. Note that the line in the meta.yaml file should literally say <code class="docutils literal"><span class="pre">numpy</span> <span class="pre">x.x</span></code> and should not have any numbers. If the meta.yaml file uses <code class="docutils literal"><span class="pre">numpy</span> <span class="pre">x.x</span></code>, then it is required to use the <code class="docutils literal"><span class="pre">--numpy</span></code> option with <code class="docutils literal"><span class="pre">conda</span> <span class="pre">build</span></code>.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">requirements</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">run</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">python</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">numpy x.x</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="test-section">
<span id="meta-test"></span><h2><a class="toc-backref" href="#id43">Test section</a><a class="headerlink" href="#test-section" title="Permalink to this headline">Â¶</a></h2>
<p>If this section exists or if there is a run_test.[py,pl,sh,bat] file in the recipe, the package will be installed into a test environment after the build is finished and the tests will be run there.</p>
<div class="section" id="test-files">
<h3><a class="toc-backref" href="#id44">Test files</a><a class="headerlink" href="#test-files" title="Permalink to this headline">Â¶</a></h3>
<p>Test files which are copied from the recipe into the (temporary) test directory which are needed during testing:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">files</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test-data.txt</span>
</pre></div>
</div>
</div>
<div class="section" id="source-files">
<h3><a class="toc-backref" href="#id45">Source files</a><a class="headerlink" href="#source-files" title="Permalink to this headline">Â¶</a></h3>
<p>Test files which are copied from the source work directory into the (temporary) test directory which are needed during testing:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">source_files</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test-data.txt</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">some/directory</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">some/directory/pattern*.sh</span>
</pre></div>
</div>
<p>This capability was added in conda-build 2.0.</p>
</div>
<div class="section" id="test-requirements">
<h3><a class="toc-backref" href="#id46">Test requirements</a><a class="headerlink" href="#test-requirements" title="Permalink to this headline">Â¶</a></h3>
<p>In addition to the runtime requirements, you can specify requirements needed during testing. The runtime requirements specified above are included automatically.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">requires</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">nose</span>
</pre></div>
</div>
</div>
<div class="section" id="test-commands">
<h3><a class="toc-backref" href="#id47">Test commands</a><a class="headerlink" href="#test-commands" title="Permalink to this headline">Â¶</a></h3>
<p>Commands that are run as part of the test.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">commands</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bsdiff4 -h</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bspatch4 -h</span>
</pre></div>
</div>
</div>
<div class="section" id="python-imports">
<h3><a class="toc-backref" href="#id48">Python imports</a><a class="headerlink" href="#python-imports" title="Permalink to this headline">Â¶</a></h3>
<p>List of Python modules or packages that will be imported in the test environment.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">test</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">imports</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bsdiff4</span>
</pre></div>
</div>
<p>This would be equivalent to having a run_test.py with</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bsdiff4</span>
</pre></div>
</div>
</div>
<div class="section" id="run-test-script">
<h3><a class="toc-backref" href="#id49">Run test script</a><a class="headerlink" href="#run-test-script" title="Permalink to this headline">Â¶</a></h3>
<p>The script run_test.sh (or .bat/.py/.pl) will be run automatically if it is part of the recipe.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>test:
  run_test.sh
  run_test.bat
  run_test.py
  run_test.pl
</pre></div>
</div>
<p>NOTE: Python or Perl .py/.pl scripts are only valid as part of Python/Perl packages, respectively.</p>
</div>
</div>
<div class="section" id="outputs-section">
<h2><a class="toc-backref" href="#id50">Outputs section</a><a class="headerlink" href="#outputs-section" title="Permalink to this headline">Â¶</a></h2>
<p>The outputs section is used to explicitly specify packaging steps. It supports
multiple outputs, as well as different package output types. The format is a
list of mappings. Build strings for subpackages are determined by their runtime
dependencies. This support was added in conda-build 2.1.0.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: some-subpackage
    version: 1.0
  - name: some-other-subpackage
    version: 2.0
</pre></div>
</div>
<p>NOTE: If any output is specified in the outputs section, the default packaging
behavior of conda-build is bypassed. In other words, if any subpackage is
specified, then you will not get the normal top-level build for this recipe
without explicitly defining a subpackage for it. This is an alternative to the
existing behavior, not an addition to it. See the <a class="reference internal" href="#implicit-metapackages"><span class="std std-ref">Implicit metapackages</span></a>
section below for more information. Each output may have its own version and
requirements. Additionally, subpackages may impose downstream pinning similarly
to <a class="reference internal" href="#pin-downstream">Pin downstream</a> to help keep your packages aligned.</p>
<div class="section" id="specifying-files-to-include-in-output">
<h3><a class="toc-backref" href="#id51">Specifying files to include in output</a><a class="headerlink" href="#specifying-files-to-include-in-output" title="Permalink to this headline">Â¶</a></h3>
<p>Files to be included in the package can be specified in either of two ways:
explicit file lists, or scripts that move files into the build prefix.</p>
<p>Explicit file lists are relative paths from the root of the build prefix.
Explicit file lists support glob expressions. Directory names are also
supported, and will recursively include contents.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: subpackage-name
    files:
      - a-file
      - a-folder
      - *.some-extension
      - somefolder/*.some-extension
</pre></div>
</div>
<p>Scripts that create or move files into the build prefix can be any kind of
script. Known script types need only specify the script name. Currently the list
of recognized extensions is <code class="docutils literal"><span class="pre">py</span></code>, <code class="docutils literal"><span class="pre">bat</span></code>, <code class="docutils literal"><span class="pre">ps1</span></code>, and <code class="docutils literal"><span class="pre">sh</span></code>.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: subpackage-name
    script: move-files.py
</pre></div>
</div>
<p>The interpreter command must be specified if the file extension is not
ârecognized.â</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: subpackage-name
    script: some-script.extension
    script_interpreter: program plus arguments to run script
</pre></div>
</div>
<p>For scripts that move or create files, a fresh copy of the working directory is
provided at the start of each script execution. This ensures results between
scripts are independent of one another.</p>
<p>Note that for either the file list or the script approach, having more than one
package contain a given file is not explicitly forbidden, but may prevent
installation of both packages simultaneously.  Conda disallows this condition,
because it creates ambiguous runtime conditions.</p>
</div>
<div class="section" id="subpackage-requirements">
<h3><a class="toc-backref" href="#id52">Subpackage requirements</a><a class="headerlink" href="#subpackage-requirements" title="Permalink to this headline">Â¶</a></h3>
<p>Subpackages support runtime and test requirements. Build requirements are not
supported, because subpackages are created after the build phase is complete. If
you need a tool to accomplish subpackaging, put it in the top-level package
requirements/build section.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: subpackage-name
    requirements:
      - some-dep
</pre></div>
</div>
<p>You can also impose runtime dependencies whenever a given (sub)package is
installed as a build dependency. For example, if we had an overarching
âcompilersâ package, and within that, had <code class="docutils literal"><span class="pre">gcc</span></code> and <code class="docutils literal"><span class="pre">libgcc</span></code> outputs, we
could force recipes that use gcc to include a matching libgcc runtime
requirement:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: gcc
    run_exports:
      - libgcc 2.*
  - name: libgcc
</pre></div>
</div>
<p>Note: Variant expressions are very powerful here. You can express the version
requirement in the run_exports entry as a jinja function to insert values
based on the actual version of libgcc produced by the recipe. Read more about
them at <a class="reference internal" href="variants.html#referencing-subpackages"><span class="std std-ref">Referencing subpackages</span></a>.</p>
</div>
<div class="section" id="implicit-metapackages">
<span id="id1"></span><h3><a class="toc-backref" href="#id53">Implicit metapackages</a><a class="headerlink" href="#implicit-metapackages" title="Permalink to this headline">Â¶</a></h3>
<p>When viewing the top-level package as a collection of smaller subpackages, it
may be convenient to define the top-level package as a composition of several
subpackages. If you do this, and you do not define a subpackage name that
matches the top-level package/name, then conda-build will create a metapackage
for you. This metapackage will have runtime requirements drawn from its
dependency subpackages, for the sake of accurate build strings.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>package:
  name: subpackage-example
  version: 1.0

requirements:
  run:
    - subpackage1
    - subpackage2

outputs:
  - name: subpackage1
    requirements:
      - some-dep
  - name: subpackage2
    requirements:
      - some-other-dep
  - name: subpackage3
    requirements:
      - some-totally-exotic-dep
</pre></div>
</div>
<p>In that example, a metapackage for subpackage-example will be created. It will
have runtime dependencies on <code class="docutils literal"><span class="pre">subpackage1</span></code>, <code class="docutils literal"><span class="pre">subpackage2</span></code>, <code class="docutils literal"><span class="pre">some-dep</span></code>, and
<code class="docutils literal"><span class="pre">some-other-dep</span></code>.</p>
</div>
<div class="section" id="subpackage-tests">
<h3><a class="toc-backref" href="#id54">Subpackage tests</a><a class="headerlink" href="#subpackage-tests" title="Permalink to this headline">Â¶</a></h3>
<p>Subpackages may be tested independently of the top-level package. Independent
test script files for each separate package are specified under the subpackageâs
test section. These files support the same formats as the top-level run_test.*
scripts: <code class="docutils literal"><span class="pre">.py</span></code>, <code class="docutils literal"><span class="pre">.pl</span></code>, <code class="docutils literal"><span class="pre">.bat</span></code>, <code class="docutils literal"><span class="pre">.sh</span></code>. These may be extended to support
other script types in the future.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: subpackage-name
    test:
      script: some-other-script.py
</pre></div>
</div>
<p>The run_test.* scripts apply only to the top-level package, by default. To apply
them also to subpackages, they can be explicitly listed in the script section:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>outputs:
  - name: subpackage-name
    test:
      script: run_test.py
</pre></div>
</div>
<p>Test requirements for subpackages are not supported. Instead, subpackage tests
install their runtime requirements (but not the run requirements for the
top-level package) and the test-time requirements of the top-level package.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>requirements:
  run:
    - some-top-level-run-req

test:
  requires:
    - some-test-dep

outputs:
  - name: subpackage-name
    requirements:
      - subpackage-run-req
    test:
      script: run_test.py
</pre></div>
</div>
<p>In this example, the test for subpackage-name will install <code class="docutils literal"><span class="pre">some-test-dep</span></code> and
<code class="docutils literal"><span class="pre">subpackage-run-req</span></code>, but not <code class="docutils literal"><span class="pre">some-top-level-run-req</span></code>.</p>
</div>
<div class="section" id="output-type">
<h3><a class="toc-backref" href="#id55">Output type</a><a class="headerlink" href="#output-type" title="Permalink to this headline">Â¶</a></h3>
<p>Conda-build supports creating packages other than conda packages. Right now,
that support includes only wheels. RPMs, .deb files, and others may come as
demand appears.  If type is not specified, the default value is <code class="docutils literal"><span class="pre">conda</span></code>.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>requirements:
  build:
    - wheel

outputs:
  - name: name-of-wheel-package
    type: wheel
</pre></div>
</div>
<p>You currently must include the <code class="docutils literal"><span class="pre">wheel</span></code> package in your top-level
requirements/build section in order to build wheels.</p>
<p>When specifying type, the name field is optional, and defaults to the
package/name field for the top-level recipe.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>requirements:
  build:
    - wheel

outputs:
  - type: wheel
</pre></div>
</div>
<p>Conda-build currently only knows how to test conda packages. Conda-build does
support using Twine to upload packages to PyPI. See the conda-build help output
for the list of arguments accepted that will be passed through to Twine. Note
that you must use pip to install Twine in order for this to work.</p>
</div>
</div>
<div class="section" id="about-section">
<span id="about"></span><h2><a class="toc-backref" href="#id56">About section</a><a class="headerlink" href="#about-section" title="Permalink to this headline">Â¶</a></h2>
<p>Identifying information about the package. Displays in Anaconda.org channel.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">about</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">home</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/ilanschnell/bsdiff4</span>
  <span class="l l-Scalar l-Scalar-Plain">license</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">BSD</span>
  <span class="l l-Scalar l-Scalar-Plain">license_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">LICENSE</span>
  <span class="l l-Scalar l-Scalar-Plain">summary</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">binary diff and patch using the BSDIFF4-format</span>
</pre></div>
</div>
<div class="section" id="license-file">
<h3><a class="toc-backref" href="#id57">License file</a><a class="headerlink" href="#license-file" title="Permalink to this headline">Â¶</a></h3>
<p>A file containing the software license can be added to the package metadata.  Please note that many licenses require the license statement to be distributed with the package.  The filename is relative to the source directory.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">about</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">license_file</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">LICENSE</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="app-section">
<h2><a class="toc-backref" href="#id58">App section</a><a class="headerlink" href="#app-section" title="Permalink to this headline">Â¶</a></h2>
<p>If the app section is present, the package will be an app, meaning it will appear in the Anaconda Launcher.</p>
<div class="section" id="entry-point">
<h3><a class="toc-backref" href="#id59">Entry point</a><a class="headerlink" href="#entry-point" title="Permalink to this headline">Â¶</a></h3>
<p>The command that is called to launch the app:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">entry</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ipython notebook</span>
</pre></div>
</div>
</div>
<div class="section" id="icon-file">
<h3><a class="toc-backref" href="#id60">Icon file</a><a class="headerlink" href="#icon-file" title="Permalink to this headline">Â¶</a></h3>
<p>The icon file contained in the recipe:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">icon</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">icon_64x64.png</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h3><a class="toc-backref" href="#id61">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">Â¶</a></h3>
<p>Summary of the package used in the launcher:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">summary</span><span class="p p-Indicator">:</span>  <span class="s">&quot;The</span><span class="nv"> </span><span class="s">Jupyter</span><span class="nv"> </span><span class="s">Notebook&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="own-environment">
<h3><a class="toc-backref" href="#id62">Own environment</a><a class="headerlink" href="#own-environment" title="Permalink to this headline">Â¶</a></h3>
<p>If own_environment is true, installing the app through the launcher will install into its own environment. The default is False.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">app</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">own_environment</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="extra-section">
<h2><a class="toc-backref" href="#id63">Extra section</a><a class="headerlink" href="#extra-section" title="Permalink to this headline">Â¶</a></h2>
<p>The extra section is a schema-free area for storing non-conda specific metadata in standard YAML form.
For example, to store recipe maintainer information, one could do:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">extra</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">maintainers</span><span class="p p-Indicator">:</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name of maintainer</span>
</pre></div>
</div>
</div>
<div class="section" id="templating-with-jinja">
<span id="jinja-templates"></span><h2><a class="toc-backref" href="#id64">Templating with Jinja</a><a class="headerlink" href="#templating-with-jinja" title="Permalink to this headline">Â¶</a></h2>
<p>Conda build supports Jinja templating in the <code class="docutils literal"><span class="pre">meta.yaml</span></code> file. For example, hereâs a meta.yaml that
would work with the GIT values defined for git repositores. In this example, the recipe is included
at the base directory of the git repository, so the <code class="docutils literal"><span class="pre">git_url</span></code> is <code class="docutils literal"><span class="pre">../</span></code>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">package</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypkg</span>
  <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{{</span> <span class="nv">GIT_DESCRIBE_TAG</span> <span class="p p-Indicator">}}</span>

<span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{{</span> <span class="nv">GIT_DESCRIBE_NUMBER</span> <span class="p p-Indicator">}}</span>

  <span class="c1"># Note that this will override the default build string with the Python</span>
  <span class="c1"># and NumPy versions</span>
  <span class="l l-Scalar l-Scalar-Plain">string</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{{</span> <span class="nv">GIT_BUILD_STR</span> <span class="p p-Indicator">}}</span>

<span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">git_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../</span>
</pre></div>
</div>
<p>Conda-build will make sure the jinja2 variables you use are defined and produces
a clear error if it is not.</p>
<p>It is also possible to use a different syntax for these environment variables
that allows default values to be set, although it is somewhat more verbose.  This is the
example above using the syntax that allows defaults:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">package</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mypkg</span>
  <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{{</span> <span class="nv">environ.get(&#39;GIT_DESCRIBE_TAG&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;&#39;</span><span class="nv">)</span> <span class="p p-Indicator">}}</span>

<span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">number</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{{</span> <span class="nv">environ.get(&#39;GIT_DESCRIBE_NUMBER&#39;</span><span class="p p-Indicator">,</span> <span class="nv">0)</span> <span class="p p-Indicator">}}</span>

  <span class="c1"># Note that this will override the default build string with the Python</span>
  <span class="c1"># and NumPy versions</span>
  <span class="l l-Scalar l-Scalar-Plain">string</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{{</span> <span class="nv">environ.get(&#39;GIT_BUILD_STR&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;&#39;</span><span class="nv">)</span> <span class="p p-Indicator">}}</span>

<span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">git_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">../</span>
</pre></div>
</div>
<p>One further possibility using templating is obtaining data from your downloaded
source code.  For example, we can process a projectâs setup.py and obtain the
version and other metadata:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{% set data = load_setup_py_data() %}

package:
  name: conda-build-test-source-setup-py-data
  version: {{ data.get(&#39;version&#39;) }}

# source will be downloaded prior to filling in jinja templates
# Example assumes that this folder has setup.py in it
source:
  path_url: ../
</pre></div>
</div>
<p>These functions are completely compatible with any other variables (git, mercurial, or whatever.)</p>
<p>Extending this to arbitrary other functions requires that functions be predefined before jinja
processing, which in practice means changing the conda-build source code.  Please inquire at the
<a class="reference external" href="https://github.com/conda/conda-build/issues">conda-build issue tracker</a>.</p>
<p>See the <a class="reference external" href="http://jinja.pocoo.org/docs/dev/templates/">Jinja2 template documentation</a>
for more information, or <a class="reference external" href="https://conda.io/docs/building/environment-vars.html">the list of available environment
variables</a>.</p>
<p>Jinja templates are evaluated during the build process. To retrieve a fully rendered <code class="docutils literal"><span class="pre">meta.yaml</span></code>
use the <a class="reference internal" href="../commands/build/conda-render.html"><span class="doc">conda render</span></a>.</p>
</div>
<div class="section" id="preprocessing-selectors">
<h2><a class="toc-backref" href="#id65">Preprocessing selectors</a><a class="headerlink" href="#preprocessing-selectors" title="Permalink to this headline">Â¶</a></h2>
<p>In addition, you can add selectors to any line, which are used as part of a
preprocessing stage. Before the yaml file is read, each selector is evaluated,
and if it is False, the line that it is on is removed.  A selector is of the
form <code class="docutils literal"><span class="pre">#</span> <span class="pre">[&lt;selector&gt;]</span></code> at the end of a line.</p>
<p>NOTE: Preprocessing selectors are evaluated after Jinja templates.</p>
<p>For example</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/unix/source</span>    <span class="c1"># [not win]</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/windows/source</span> <span class="c1"># [win]</span>
</pre></div>
</div>
<p>A selector is just a valid Python statement, that is executed.  The following
variables are defined. Unless otherwise stated, the variables are booleans.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">x86</span></code></td>
<td>True if the system architecture is x86 (32-bit and 64-bit) for Intel or AMD chips</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">x86_64</span></code></td>
<td>True if the system architecture is x86_64 (64-bit) for Intel or AMD chips</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">linux</span></code></td>
<td>True if the platform is Linux</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">linux32</span></code></td>
<td>True if the platform is Linux and the Python architecture is 32-bit</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">linux64</span></code></td>
<td>True if the platform is Linux and the Python architecture is 64-bit</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">armv6l</span></code></td>
<td>True if the platform is Linux and the Python architecture is armv6l</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">armv7l</span></code></td>
<td>True if the platform is Linux and the Python architecture is armv7l</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ppc64le</span></code></td>
<td>True if the platform is Linux and the Python architecture is ppc64le</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">osx</span></code></td>
<td>True if the platform is OS X</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">unix</span></code></td>
<td>True if the platform is Unix (OS X or Linux)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">win</span></code></td>
<td>True if the platform is Windows</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">win32</span></code></td>
<td>True if the platform is Windows and the Python architecture is 32-bit</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">win64</span></code></td>
<td>True if the platform is Windows and the Python architecture is 64-bit</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">py</span></code></td>
<td>The Python version as a two digit string (like <code class="docutils literal"><span class="pre">'27'</span></code>). See also the
<code class="docutils literal"><span class="pre">CONDA_PY</span></code> environment variable <a class="reference internal" href="environment-vars.html#build-envs"><span class="std std-ref">below</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">py3k</span></code></td>
<td>True if the Python major version is 3</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">py2k</span></code></td>
<td>True if the Python major version is 2</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">py27</span></code></td>
<td>True if the Python version is 2.7</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">py34</span></code></td>
<td>True if the Python version is 3.4</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">py35</span></code></td>
<td>True if the Python version is 3.5</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">np</span></code></td>
<td>The NumPy version as an integer (like <code class="docutils literal"><span class="pre">111</span></code>).  See also the
<code class="docutils literal"><span class="pre">CONDA_NPY</span></code> environment variable <a class="reference internal" href="environment-vars.html#build-envs"><span class="std std-ref">below</span></a>.</td>
</tr>
</tbody>
</table>
<p>Because the selector is any valid Python expression, complicated logic is
possible.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/windows/source</span>      <span class="c1"># [win]</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/python2/unix/source</span> <span class="c1"># [unix and py2k]</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/python3/unix/source</span> <span class="c1"># [unix and py3k]</span>
</pre></div>
</div>
<p>Note that the selectors delete only the line that they are on, so you may
need to put the same selector on multiple lines.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">source</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/windows/source</span>     <span class="c1"># [win]</span>
  <span class="l l-Scalar l-Scalar-Plain">md5</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30fbf531409a18a48b1be249052e242a</span>  <span class="c1"># [win]</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://path/to/unix/source</span>        <span class="c1"># [unix]</span>
  <span class="l l-Scalar l-Scalar-Plain">md5</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">88510902197cba0d1ab4791e0f41a66e</span>  <span class="c1"># [unix]</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<span id="id3"></span><h2><a class="toc-backref" href="#id66">Features</a><a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h2>
<p>See also <a class="reference internal" href="environment-vars.html#build-features"><span class="std std-ref">Environment variables to set build features</span></a>.</p>
<p>Features are a way to track differences in two packages that have the same
name and version.  For example, a feature might indicate a specialized
compiler or runtime, or a fork of a package. The canonical example of a
feature is the <code class="docutils literal"><span class="pre">mkl</span></code> feature in Anaconda Accelerate. Packages that are
compiled against MKL, such as NumPy, have the <code class="docutils literal"><span class="pre">mkl</span></code> feature set.  The
<code class="docutils literal"><span class="pre">mkl</span></code> metapackage has the <code class="docutils literal"><span class="pre">mkl</span></code> feature set in <code class="docutils literal"><span class="pre">track_features</span></code>, so that
installing it installs the <code class="docutils literal"><span class="pre">mkl</span></code> feature (the fact that the name of this
metapackage matches the name of the feature is a coincidence).</p>
<p>Features should be thought of as features of the environment the package is
installed into, not the package itself. The reason is that when a feature is
installed, conda will automatically change to a package with that feature if
it exists, for instance, when the <code class="docutils literal"><span class="pre">mkl</span></code> feature is installed, regular
<code class="docutils literal"><span class="pre">numpy</span></code> is removed and the <code class="docutils literal"><span class="pre">numpy</span></code> package with the <code class="docutils literal"><span class="pre">mkl</span></code> feature is
installed.  Enabling a feature does not install any packages that are not
already installed, but it all future packages with that feature that are
installed into that environment will be preferred.</p>
<p>Feature names are independent of package namesâit is a coincidence that
<code class="docutils literal"><span class="pre">mkl</span></code> is both the name of a package and the feature that it tracks.</p>
<p>To install a feature, install a package that tracks it. To remove a feature,
use <code class="docutils literal"><span class="pre">conda</span> <span class="pre">remove</span> <span class="pre">--features</span></code>.</p>
<p>Itâs a good idea to create a metapackage for <code class="docutils literal"><span class="pre">track_features</span></code>.  If you add
<code class="docutils literal"><span class="pre">track_features</span></code> to a package that also has versions without that feature,
then the versions without that feature will never be selected, because conda
will always add the feature when it is installed from the <code class="docutils literal"><span class="pre">track_features</span></code>
specification if your package with the feature.</p>
<p>Instead, it is a good idea to create a separate metapackage. For instance, if
you want to create some packages with the feature <code class="docutils literal"><span class="pre">debug</span></code>, you would create
several packages with</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">features</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">debug</span>
</pre></div>
</div>
<p>and then create a special metapackage</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">package</span><span class="p p-Indicator">:</span>
  <span class="c1"># This name doesn&#39;t have to be the same as the feature, but can avoid confusion if it is</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">debug</span>
  <span class="c1"># This need not relate to the version of any of the packages with the</span>
  <span class="c1"># feature. It is just a version for this metapackage.</span>
  <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>

<span class="l l-Scalar l-Scalar-Plain">build</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">track_features</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">debug</span>
</pre></div>
</div>
</div>
<div class="section" id="making-packages-relocatable">
<span id="relocatable"></span><h2><a class="toc-backref" href="#id67">Making packages relocatable</a><a class="headerlink" href="#making-packages-relocatable" title="Permalink to this headline">Â¶</a></h2>
<p>Often, the most difficult thing about building a conda package is making it
relocatable.  Relocatable means that the package can be installed into any
prefix.  Otherwise, the package would only be usable in the same environment
in which it was built.</p>
<p>Conda build does the following things automatically to make packages
relocatable:</p>
<ul class="simple">
<li>Binary object files are converted to use relative paths using
<code class="docutils literal"><span class="pre">install_name_tool</span></code> on OS X and <code class="docutils literal"><span class="pre">patchelf</span></code> on Linux.</li>
<li>Any text file (containing no NULL bytes) containing the build prefix or the
placeholder prefix <code class="docutils literal"><span class="pre">/opt/anaconda1anaconda2anaconda3</span></code> is registered in the
<code class="docutils literal"><span class="pre">info/has_prefix</span></code> file in the package metadata.  When conda installs the
package, any files in <code class="docutils literal"><span class="pre">info/has_prefix</span></code> will have the registered prefix
replaced with the install prefix.  See <a class="reference internal" href="../spec.html#package-metadata"><span class="std std-ref">Package metadata</span></a> for more
information.</li>
<li>Any binary file containing the build prefix can automatically be registered
in <code class="docutils literal"><span class="pre">info/has_prefix</span></code> using <code class="docutils literal"><span class="pre">build/detect_binary_files_with_prefix</span></code> in
<code class="docutils literal"><span class="pre">meta.yaml</span></code>.  Alternatively, individual binary files can be registered by
listing them in <code class="docutils literal"><span class="pre">build/binary_has_prefix_files</span></code> in meta.yaml.  The
registered files will have their build prefix replaced with the install
prefix at install time.  This works by padding the install prefix with null
terminators, such that the length of the binary file remains the same.  The
build prefix must therefore be long enough to accommodate any reasonable
installation prefix.  On Linux and Mac, conda-build will pad
the build prefix (appending <code class="docutils literal"><span class="pre">_placehold</span></code>âs to the end of the build
directory name) to 255 characters.  Note that the prefix length was changed
in conda-build 2.0 from 80 characters to 255 characters.  Legacy packages with
80 character prefixes will need to be rebuilt to take advantage of the
longer prefix.</li>
<li>There may be cases where conda identified a file as binary, but it needs to
have the build prefix replaced as if it were text (no padding with null
terminators). Such files can be listed in <code class="docutils literal"><span class="pre">build/has_prefix_files</span></code> in
<code class="docutils literal"><span class="pre">meta.yaml</span></code>.</li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="environment-vars.html" class="btn btn-neutral float-right" title="Environment variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dirs.html" class="btn btn-neutral" title="Directory structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Continuum Analytics.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:' ',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-11', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>